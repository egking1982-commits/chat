<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#d63384">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="apple-touch-icon" href="https://cdn-icons-png.flaticon.com/512/5962/5962463.png">

    <title>Ù…Ù„ØªÙ‚Ù‰ Ø§Ù„Ø§ØµØ¯Ù‚Ø§Ø¡ 2026 - Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠ</title>
    
    <style>
        :root { --main: #d63384; --admin-color: #2c3e50; --sent: #dcf8c6; --bg: #e5ddd5; --header-h: 60px; --input-h: 70px; }
        * { -webkit-tap-highlight-color: transparent; box-sizing: border-box; }
        
        body, html { 
            margin: 0; padding: 0; width: 100%; height: 100%; 
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; 
            background: #f0f2f5; overflow: hidden; position: fixed;
        }
        
        .main-wrapper { display: flex; height: 100%; width: 100%; overflow: hidden; }
        
        /* Ø´Ø§Ø´Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ */
        .auth-container { 
            background: white; width: 90%; max-width: 380px; padding: 30px; 
            border-radius: 25px; text-align: center; box-shadow: 0 15px 35px rgba(0,0,0,0.15); 
            position: absolute; top: 45%; left: 50%; transform: translate(-50%, -50%); z-index: 100; 
        }
        .auth-container input { width: 100%; padding: 15px; margin: 10px 0; border: 2px solid #f0f0f0; border-radius: 12px; font-size: 16px; }
        .btn-main { width: 100%; padding: 15px; background: var(--main); color: white; border: none; border-radius: 12px; font-weight: bold; cursor: pointer; }

        /* ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¯Ø±Ø¯Ø´Ø© */
        #chat-app { display: none; flex: 1; flex-direction: column; background: white; height: 100%; }
        .mobile-header { height: var(--header-h); background: var(--main); color: white; padding: 0 15px; display: flex; align-items: center; justify-content: space-between; font-weight: bold; z-index: 10; position: relative; }
        
        #typing-indicator { 
            position: absolute; bottom: -20px; right: 20px; font-size: 11px; 
            color: var(--main); background: rgba(255,255,255,0.9); 
            padding: 2px 10px; border-radius: 10px; display: none; font-weight: normal;
        }

        /* Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© ÙˆØ§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª */
        .sidebar { width: 280px; background: #fff; position: absolute; right: -280px; height: 100%; transition: 0.3s; z-index: 20; box-shadow: -5px 0 15px rgba(0,0,0,0.1); display: flex; flex-direction: column; }
        .sidebar.active { right: 0; }
        .user-list { flex: 1; overflow-y: auto; padding: 10px; }
        .user-item { padding: 12px; border-bottom: 1px solid #f5f5f5; display: flex; align-items: center; gap: 10px; }
        .settings-box { padding: 15px; border-top: 2px solid #eee; background: #fafafa; font-size: 13px; }
        .settings-box label { display: block; margin: 8px 0 4px; font-weight: bold; }

        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ */
        .messages { flex: 1; padding: 15px; overflow-y: auto; display: flex; flex-direction: column; gap: 12px; background: var(--bg); position: relative; background-size: cover; background-position: center; transition: background 0.5s; }
        .bubble { padding: 12px; border-radius: 18px; background: white; max-width: 85%; box-shadow: 0 1px 2px rgba(0,0,0,0.1); position: relative; }
        .sent { align-self: flex-start; }
        .received { align-self: flex-end; background: var(--sent); }
        .private-msg { border: 2px solid #9c27b0 !important; background: #f3e5f5 !important; }
        .admin-tools { font-size: 11px; display: flex; gap: 12px; border-top: 1px solid #eee; padding-top: 5px; margin-top: 5px; }
        .admin-tools span { cursor: pointer; color: var(--main); font-weight: bold; }
        .admin-action-bar { background: rgba(255,255,255,0.8); padding: 5px 15px; display: flex; justify-content: space-between; font-size: 12px; border-bottom: 1px solid #ddd; }
        .clear-btn { color: #ff4444; font-weight: bold; cursor: pointer; border: 1px solid #ff4444; padding: 2px 8px; border-radius: 5px; }
        
        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ */
        .input-area { background: white; padding: 10px; display: flex; align-items: center; gap: 8px; border-top: 1px solid #eee; min-height: var(--input-h); padding-bottom: calc(10px + env(safe-area-inset-bottom)); }
        .msg-input { flex: 1; padding: 12px 15px; border-radius: 25px; border: 1px solid #e0e0e0; font-size: 16px; outline: none; }
        #sendBtn { background: var(--main); color: white; width: 45px; height: 45px; border-radius: 50%; border: none; font-size: 20px; display: flex; align-items: center; justify-content: center; flex-shrink: 0; cursor: pointer; }
        
        .voice-rec-btn { background: #28a745; color: white; width: 45px; height: 45px; border-radius: 50%; border: none; display: flex; align-items: center; justify-content: center; font-size: 18px; cursor: pointer; transition: 0.3s; flex-shrink: 0; }
        .recording { background: #ff4444 !important; animation: pulse 1s infinite; }

        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.5; } 100% { opacity: 1; } }

        #private-indicator { display: none; background: #9c27b0; color: white; padding: 5px; text-align: center; font-size: 12px; }
        .overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.4); z-index: 15; }
        .overlay.active { display: block; }
    </style>
</head>
<body>

    <audio id="msgSound" src="https://assets.mixkit.co/active_storage/sfx/2354/2354-preview.mp3" preload="auto"></audio>
    <audio id="sendSound" src="https://assets.mixkit.co/active_storage/sfx/2358/2358-preview.mp3" preload="auto"></audio>

    <div id="auth-screen" class="auth-container">
        <h2 id="auth-title" style="color:var(--main)">ğŸ” Ù…Ù„ØªÙ‚Ù‰ 2026</h2>
        <input type="text" id="user-id" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…">
        <input type="password" id="user-pass" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
        <button id="loginBtn" class="btn-main">Ø¯Ø®ÙˆÙ„ Ø¢Ù…Ù†</button>
        <button id="registerBtn" class="btn-main" style="display:none; background:#28a745;">ØªØ³Ø¬ÙŠÙ„ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</button>
        <button id="toggleAuth" style="background:none; border:none; color:var(--main); margin-top:15px; text-decoration:underline;">Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ØŸ Ø³Ø¬Ù„ Ù‡Ù†Ø§</button>
    </div>

    <div class="main-wrapper">
        <div id="chat-app">
            <div class="mobile-header">
                <div style="display:flex; align-items:center;">
                    <span id="menuBtn" style="font-size:24px; margin-left:10px; cursor:pointer;">â˜°</span>
                    <span id="user-tag">...</span>
                </div>
                <div id="typing-indicator">Ø¬Ø§Ø±ÙŠ Ø§Ù„ÙƒØªØ§Ø¨Ø©... âœï¸</div>
                <span id="logoutBtn" style="font-size:14px; cursor:pointer;">ğŸšª Ø®Ø±ÙˆØ¬</span>
            </div>

            <div id="private-indicator">Ù…Ø­Ø§Ø¯Ø«Ø© Ø®Ø§ØµØ© Ù…Ø¹: <span id="p-name"></span> <button onclick="window.cancelPrivate()" style="border:none; border-radius:3px; padding:0 5px; cursor:pointer;">Ø¥ØºÙ„Ø§Ù‚</button></div>

            <div id="adminBar" class="admin-action-bar" style="display:none;">
                <span style="color:#666;">Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ø£Ø¯Ù…Ù† â­</span>
                <span class="clear-btn" onclick="window.clearAllMessages()">ğŸ§¹ Ù…Ø³Ø­ ÙƒØ§ÙØ© Ø§Ù„Ø±Ø³Ø§Ø¦Ù„</span>
            </div>
            
            <div class="messages" id="chatBox"></div>
            
            <div class="input-area">
                <label for="fileInput" style="font-size:24px; cursor:pointer;">ğŸ“</label>
                <input type="file" id="fileInput" hidden accept="image/*">
                <button id="voiceBtn" class="voice-rec-btn">ğŸ¤</button>
                <input type="text" id="tInp" class="msg-input" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„Ø©..." autocomplete="off">
                <button id="sendBtn">âœˆï¸</button>
            </div>
        </div>

        <div id="overlay" class="overlay"></div>
        <div id="sidebar" class="sidebar">
            <div style="padding:20px; font-weight:bold; background:var(--main); color:white;">âš™ï¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ÙˆØ§Ù„Ù‚Ø§Ø¦Ù…Ø©</div>
            
            <div class="settings-box">
                <label>ğŸ–¼ ØªØºÙŠÙŠØ± Ø®Ù„ÙÙŠØ© Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©:</label>
                <input type="file" id="bgSetter" accept="image/*" style="font-size:11px; width:100%;">
                
                <label>ğŸ”¡ Ù†Ù…Ø· Ø§Ù„Ø®Ø·:</label>
                <select id="fontSetter" style="width:100%; padding:5px;">
                    <option value="system-ui">Ø®Ø· Ø§Ù„Ù†Ø¸Ø§Ù…</option>
                    <option value="cursive">Ø®Ø· Ù…Ø§Ø¦Ù„</option>
                    <option value="monospace">Ø®Ø· Ø¹Ø±ÙŠØ¶</option>
                </select>

                <div style="margin-top:10px;">
                    <input type="checkbox" id="muteSetter"> <label style="display:inline;" for="muteSetter">ÙƒØªÙ… Ø§Ù„Ø£ØµÙˆØ§Øª ğŸ”‡</label>
                </div>
            </div>

            <div style="padding:10px; font-weight:bold; border-bottom:1px solid #eee;">ğŸ‘¥ Ø§Ù„Ù…ØªØµÙ„ÙˆÙ† (Ø§Ø¶ØºØ· Ù„Ù„Ø®Ø§Øµ)</div>
            <div class="user-list" id="userList"></div>
        </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getDatabase, ref, push, onChildAdded, set, get, child, remove, update, onValue, onDisconnect, onChildChanged, onChildRemoved } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

        // ØªÙ… Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø¥Ø¹Ø¯Ø§Ø¯Ø§ØªÙƒ Ø§Ù„Ø£ØµÙ„ÙŠØ© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„
        const firebaseConfig = {
            apiKey: "AIzaSyAQoBgXB_Iq0Ga_UmJkwifQ7kqbHF1FGPY",
            authDomain: "chat-8fc29.firebaseapp.com",
            projectId: "chat-8fc29",
            storageBucket: "chat-8fc29.firebasestorage.app",
            messagingSenderId: "86774347462",
            appId: "1:86774347462:web:486b16cea75191187009c7"
        };

        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);
        let currentUser = "", cleanUserName = "", isAdmin = false;
        let pTarget = null;
        let isMuted = false;
        let isRecording = false;
        let mediaRec;
        let audioChunks = [];

        // --- Ø§Ù„Ø¯Ø®ÙˆÙ„ ---
        document.getElementById('loginBtn').onclick = async () => {
            const u = document.getElementById('user-id').value.trim();
            const p = document.getElementById('user-pass').value.trim();
            if(!u || !p) return alert("Ø£ÙƒÙ…Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª");

            const snap = await get(child(ref(db), `users/${u}`));
            if (p === "2026") { 
                isAdmin = true; cleanUserName = u; currentUser = u + " (Ø§Ù„Ø£Ø¯Ù…Ù†) â­"; startApp();
                document.getElementById('adminBar').style.display = 'flex';
            } else if (snap.exists() && snap.val().pass === p) {
                if (snap.val().isBanned) return alert("Ø£Ù†Øª Ù…Ø­Ø¸ÙˆØ±!");
                cleanUserName = u; currentUser = u; startApp();
            } else { alert("Ø¨ÙŠØ§Ù†Ø§Øª Ø®Ø§Ø·Ø¦Ø©"); }
        };

        document.getElementById('registerBtn').onclick = async () => {
            const u = document.getElementById('user-id').value.trim();
            const p = document.getElementById('user-pass').value.trim();
            if(!u || !p) return;
            await set(ref(db, `users/${u}`), { pass: p, isBanned: false, status: "offline", isTyping: false });
            alert("ØªÙ… Ø§Ù„ØªØ³Ø¬ÙŠÙ„!"); document.getElementById('toggleAuth').click();
        };

        document.getElementById('toggleAuth').onclick = () => {
            const isLogin = document.getElementById('loginBtn').style.display !== 'none';
            document.getElementById('loginBtn').style.display = isLogin ? 'none' : 'block';
            document.getElementById('registerBtn').style.display = isLogin ? 'block' : 'none';
        };

        function startApp() {
            document.getElementById('auth-screen').style.display = 'none';
            document.getElementById('chat-app').style.display = 'flex';
            document.getElementById('user-tag').innerText = currentUser;
            
            initChatListeners();
            initUserListListener();
            setupBackgroundSync();

            onValue(ref(db, `users/${cleanUserName}/isBanned`), (s) => { if(s.val() === true) location.reload(); });
            
            const typingRef = ref(db, `users/${cleanUserName}/isTyping`);
            onValue(ref(db, '.info/connected'), (s) => {
                if(s.val()) { 
                    set(ref(db, `users/${cleanUserName}/status`), "online"); 
                    onDisconnect(ref(db, `users/${cleanUserName}/status`)).set("offline");
                    onDisconnect(typingRef).set(false);
                }
            });

            onValue(ref(db, 'users'), (snap) => {
                let someoneTyping = false;
                snap.forEach(c => { if(c.key !== cleanUserName && c.val().isTyping) someoneTyping = true; });
                document.getElementById('typing-indicator').style.display = someoneTyping ? 'block' : 'none';
            });

            let tOut;
            document.getElementById('tInp').oninput = () => {
                set(typingRef, true);
                clearTimeout(tOut);
                tOut = setTimeout(() => set(typingRef, false), 2000);
            };
        }

        function setupBackgroundSync() {
            onValue(ref(db, `backgrounds/${cleanUserName}`), (snap) => {
                if(snap.exists()) document.getElementById('chatBox').style.backgroundImage = `url(${snap.val()})`;
            });

            document.getElementById('bgSetter').onchange = (e) => {
                const reader = new FileReader();
                reader.onload = (ev) => {
                    const data = ev.target.result;
                    set(ref(db, `backgrounds/${cleanUserName}`), data);
                    if(pTarget) set(ref(db, `backgrounds/${pTarget}`), data);
                };
                reader.readAsDataURL(e.target.files[0]);
            };

            document.getElementById('fontSetter').onchange = (e) => {
                document.getElementById('chatBox').style.fontFamily = e.target.value;
            };
            document.getElementById('muteSetter').onchange = (e) => { isMuted = e.target.checked; };
        }

        const sendMessage = (text, img = null, voice = null) => {
            if(!text && !img && !voice) return;
            push(ref(db, 'messages'), {
                sender: currentUser, senderRaw: cleanUserName,
                text: text, image: img, voice: voice,
                timestamp: Date.now(),
                privateTo: pTarget
            });
            if(!isMuted) document.getElementById('sendSound').play().catch(()=>{});
            document.getElementById('tInp').value = "";
            set(ref(db, `users/${cleanUserName}/isTyping`), false);
        };

        document.getElementById('sendBtn').onclick = () => sendMessage(document.getElementById('tInp').value.trim());
        document.getElementById('tInp').onkeypress = (e) => { if(e.key === 'Enter') document.getElementById('sendBtn').click(); };

        document.getElementById('voiceBtn').onclick = async function() {
            const btn = this;
            if(!isRecording) {
                try {
                    const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
                    mediaRec = new MediaRecorder(stream);
                    audioChunks = [];
                    mediaRec.ondataavailable = e => audioChunks.push(e.data);
                    mediaRec.onstop = () => {
                        const blob = new Blob(audioChunks, { type: 'audio/ogg; codecs=opus' });
                        const reader = new FileReader();
                        reader.onload = e => sendMessage(null, null, e.target.result);
                        reader.readAsDataURL(blob);
                        stream.getTracks().forEach(track => track.stop());
                    };
                    mediaRec.start();
                    isRecording = true;
                    btn.classList.add('recording');
                    btn.innerText = "ğŸ›‘";
                } catch(e) { 
                    alert("Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ù…ÙŠÙƒØ±ÙˆÙÙˆÙ†."); 
                }
            } else {
                mediaRec.stop();
                isRecording = false;
                btn.classList.remove('recording');
                btn.innerText = "ğŸ¤";
            }
        };

        window.startPrivate = (user) => {
            if(user === cleanUserName) return;
            pTarget = user;
            document.getElementById('private-indicator').style.display = 'block';
            document.getElementById('p-name').innerText = user;
            document.getElementById('overlay').click();
        };
        window.cancelPrivate = () => { pTarget = null; document.getElementById('private-indicator').style.display = 'none'; };

        function initChatListeners() {
            const mRef = ref(db, 'messages');
            onChildAdded(mRef, (s) => {
                const data = s.val();
                if(!data.privateTo || data.privateTo === cleanUserName || data.senderRaw === cleanUserName) {
                    renderMessage(s.key, data);
                    if(data.senderRaw !== cleanUserName && !isMuted) document.getElementById('msgSound').play().catch(()=>{});
                }
            });
            onChildChanged(mRef, (s) => {
                const el = document.getElementById(`msg-${s.key}`);
                if(el && s.val().text) el.querySelector('.msg-text').innerText = s.val().text;
            });
            onChildRemoved(mRef, (s) => {
                const el = document.getElementById(`msg-${s.key}`);
                if(el) el.remove();
            });
        }

        function renderMessage(id, data) {
            const box = document.getElementById('chatBox');
            const isMe = data.senderRaw === cleanUserName;
            const div = document.createElement('div');
            div.id = `msg-${id}`;
            div.className = `bubble ${isMe ? 'sent' : 'received'} ${data.privateTo ? 'private-msg' : ''}`;
            
            let tools = isAdmin ? `
                <div class="admin-tools">
                    <span onclick="window.delMsg('${id}')">ğŸ—‘ Ø­Ø°Ù</span>
                    <span onclick="window.editMsg('${id}', '${data.text}')">âœï¸ ØªØ¹Ø¯ÙŠÙ„</span>
                </div>` : "";

            div.innerHTML = `
                <div style="font-size:10px; color:var(--main); font-weight:bold;">${data.sender} ${data.privateTo ? 'ğŸ”’ (Ø®Ø§Øµ)' : ''}</div>
                ${data.text ? `<div class="msg-text">${data.text}</div>` : ""}
                ${data.image ? `<img src="${data.image}" style="max-width:100%; border-radius:10px; margin-top:5px;">` : ""}
                ${data.voice ? `<audio controls src="${data.voice}" style="max-width:100%; height:35px; margin-top:5px;"></audio>` : ""}
                <div style="font-size:9px; opacity:0.6; text-align:left; margin-top:5px;">${new Date(data.timestamp).toLocaleTimeString('ar-EG')}</div>
                ${tools}
            `;
            box.appendChild(div);
            box.scrollTop = box.scrollHeight;
        }

        window.delMsg = (id) => { if(confirm("Ø­Ø°Ù Ø§Ù„Ø±Ø³Ø§Ù„Ø©ØŸ")) remove(ref(db, `messages/${id}`)); };
        window.editMsg = (id, old) => {
            const n = prompt("ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø±Ø³Ø§Ù„Ø©:", old);
            if(n) update(ref(db, `messages/${id}`), { text: n });
        };
        window.clearAllMessages = () => { if(confirm("âš ï¸ Ù…Ø³Ø­ ÙƒØ§ÙØ© Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ØŸ")) remove(ref(db, 'messages')); };

        function initUserListListener() {
            onValue(ref(db, 'users'), (snap) => {
                const list = document.getElementById('userList');
                list.innerHTML = "";
                snap.forEach(c => {
                    const u = c.key; const d = c.val();
                    const div = document.createElement('div');
                    div.className = 'user-item';
                    let adminBtn = (isAdmin && u !== cleanUserName) ? `
                        <div style="display:flex; flex-direction:column; gap:2px;">
                            <button onclick="update(ref(db, 'users/${u}'), {isBanned: ${!d.isBanned}})" style="font-size:9px;">${d.isBanned?'ÙÙƒ Ø­Ø¸Ø±':'Ø­Ø¸Ø±'}</button>
                            <button onclick="remove(ref(db, 'users/${u}'))" style="font-size:9px; background:red; color:white;">Ø­Ø°Ù</button>
                        </div>` : "";
                    div.innerHTML = `
                        <div style="width:10px; height:10px; border-radius:50%; background:${d.status==='online'?'#28a745':'#ccc'}"></div>
                        <div style="flex:1" onclick="window.startPrivate('${u}')">
                            <b style="${d.isBanned?'color:red; text-decoration:line-through;':''}">${u}</b>
                            <div style="font-size:9px; color:#999">${d.status==='online'?'Ù…ØªØµÙ„':'Ø£ÙˆÙÙ„Ø§ÙŠÙ†'}</div>
                        </div>
                        ${adminBtn}
                    `;
                    list.appendChild(div);
                });
            });
        }

        document.getElementById('fileInput').onchange = (e) => {
            const reader = new FileReader();
            reader.onload = ev => sendMessage("[ØµÙˆØ±Ø©]", ev.target.result);
            reader.readAsDataURL(e.target.files[0]);
        };
        document.getElementById('menuBtn').onclick = () => { document.getElementById('sidebar').classList.add('active'); document.getElementById('overlay').classList.add('active'); };
        document.getElementById('overlay').onclick = () => { document.getElementById('sidebar').classList.remove('active'); document.getElementById('overlay').classList.remove('active'); };
        document.getElementById('logoutBtn').onclick = () => location.reload();

        // 2. ØªØ³Ø¬ÙŠÙ„ Ù†Ø¸Ø§Ù… Ø§Ù„Ø®Ø¯Ù…Ø© (Service Worker) Ù„Ø¨ÙŠØ¦Ø© Ø§Ù„Ø£Ù†Ø¯Ø±ÙˆÙŠØ¯
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw.js').then(reg => {
                    console.log('SW Registered');
                }).catch(err => console.log('SW Registration failed', err));
            });
        }
    </script>
</body>
</html>
